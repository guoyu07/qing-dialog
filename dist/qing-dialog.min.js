/* qing-dialog v1.0.0 | (c) Mycolorway Design | MIT License */
!function(t,n){"object"==typeof module&&module.exports?module.exports=n(require("jquery"),require("qing-module")):t.QingDialog=n(t.jQuery,t.QingModule)}(this,function(t,n){var e=require=function t(n,e,o){function r(s,u){if(!e[s]){if(!n[s]){var l="function"==typeof require&&require;if(!u&&l)return l(s,!0);if(i)return i(s,!0);var a=new Error("Cannot find module '"+s+"'");throw a.code="MODULE_NOT_FOUND",a}var p=e[s]={exports:{}};n[s][0].call(p.exports,function(t){var e=n[s][1][t];return r(e?e:t)},p,p.exports,t,n,e,o)}return e[s].exports}for(var i="function"==typeof require&&require,s=0;s<o.length;s++)r(o[s]);return r}({1:[function(t,n,e){n.exports='<div class="qing-dialog">\n  <div class="wrapper">\n    <a href="javascript:;" class="close-button">\n      <span>&times;</span>\n    </a>\n  </div>\n</div>'},{}],"qing-dialog":[function(e,o,r){var i,s,u,l=function(t,n){function e(){this.constructor=t}for(var o in n)a.call(n,o)&&(t[o]=n[o]);return e.prototype=n.prototype,t.prototype=new e,t.__super__=n.prototype,t},a={}.hasOwnProperty;u=e("./template.coffee"),i=function(n){function e(n){if(e.__super__.constructor.apply(this,arguments),t.extend(this.opts,e.opts,n),null===this.opts.content)throw new Error("QingDialog: option content is required");this.id=++e.count,e.removeAll(),this._render(),this._bind(),this.el.data("qingDialog",this)}return l(e,n),e.opts={content:null,width:600,modal:!0,cls:null,fullscreen:!1},e.count=0,e.removeAll=function(){return t(".qing-dialog").each(function(n,e){var o;return null!=(o=t(e).data("qingDialog"))?o._cleanup():void 0})},e.prototype._render=function(){return this.el=t(u),this.wrapper=this.el.find(".wrapper"),this._setup(),this.el.appendTo("body"),this._show()},e.prototype._bind=function(){return this.el.on("click",function(n){return function(e){if(t(e.target).is(".qing-dialog")&&n.opts.modal)return n.remove()}}(this)).on("click",".close-button",function(t){return function(){return t.remove()}}(this)),t(document).on("keydown.qing-dialog-"+this.id,function(t){return function(n){if(27===n.which)return t.remove()}}(this))},e.prototype._setup=function(){return this.opts.cls&&this.el.addClass(this.opts.cls),this.opts.modal&&this.el.addClass("modal"),this.opts.fullscreen&&this.el.addClass("fullscreen"),this.setContent(this.opts.content),this.setWidth(this.opts.width)},e.prototype._show=function(){return t("body").addClass("qing-dialog-open"),this.el.show()&&s(this.el),this.opts.modal?this.el.addClass("in").one("transitionend",function(t){return function(){return t.el.addClass("open")}}(this)):this.el.addClass("open")},e.prototype.remove=function(){return this.el.removeClass("open"),this.wrapper.on("transitionend",function(t){return function(){return t.opts.modal?setTimeout(function(){return t.el.removeClass("in").one("transitionend",function(){return t._cleanup()})},0):t._cleanup()}}(this))},e.prototype.setContent=function(n){var e;return null!=(e=this.content)&&e.remove(),this.content=t(n).appendTo(this.wrapper)},e.prototype.setWidth=function(t){if(!this.opts.fullscreen)return this.wrapper.css("width",t)},e.prototype._cleanup=function(){return this.trigger("remove"),this.el.remove().removeData("qingDialog"),t(document).off("keydown.qing-dialog-"+this.id),t("body").removeClass("qing-dialog-open")},e}(n),s=function(n){var e;return e=n instanceof t?n[0]:n,e.offsetHeight},o.exports=i},{"./template.coffee":1}]},{},[]);return e("qing-dialog")});